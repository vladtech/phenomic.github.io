{"head":{"title":"Serverless Framework - AWS Lambda Events - Kinesis & DynamoDB Streams","menuText":"Kinesis & DynamoDB","menuOrder":2,"description":"Setting up AWS Kinesis Streams and AWS DynamoDB Streams Events with AWS Lambda via the Serverless Framework","layout":"Page"},"body":"<!-- DOCS-SITE-LINK:START automatically generated  -->\n### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/events/streams)\n<!-- DOCS-SITE-LINK:END -->\n<h1 id=\"dynamodb--kinesis-streams\"><a href=\"#dynamodb--kinesis-streams\" class=\"phenomic-HeadingAnchor\">#</a>DynamoDB / Kinesis Streams</h1>\n<p>This setup specifies that the <code>compute</code> function should be triggered whenever the corresponding DynamoDB table is modified (e.g. a new entry is added).</p>\n<p><strong>Note:</strong> The <code>stream</code> event will hook up your existing streams to a Lambda function. Serverless won't create a new stream for you.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  compute:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.compute\n<span class=\"hljs-attr\">    events:</span>\n<span class=\"hljs-attr\">      - stream:</span> arn:aws:dynamodb:region:XXXXXX:table/foo/stream/<span class=\"hljs-number\">1970</span><span class=\"hljs-bullet\">-01</span><span class=\"hljs-bullet\">-01</span>T00:<span class=\"hljs-number\">00</span>:<span class=\"hljs-number\">00.000</span>\n<span class=\"hljs-attr\">      - stream:</span>\n<span class=\"hljs-attr\">          arn:</span>\n<span class=\"hljs-attr\">            Fn:</span>:GetAtt:\n<span class=\"hljs-bullet\">              -</span> MyKinesisStream\n<span class=\"hljs-bullet\">              -</span> Arn</code></pre>\n<h2 id=\"setting-the-batchsize-and-startingposition\"><a href=\"#setting-the-batchsize-and-startingposition\" class=\"phenomic-HeadingAnchor\">#</a>Setting the BatchSize and StartingPosition</h2>\n<p>This configuration sets up a disabled Kinesis stream event for the <code>preprocess</code> function which has a batch size of <code>100</code>. The starting position is\n<code>LATEST</code>.</p>\n<p><strong>Note:</strong> The <code>stream</code> event will hook up your existing streams to a Lambda function. Serverless won't create a new stream for you.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  preprocess:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.preprocess\n<span class=\"hljs-attr\">    events:</span>\n<span class=\"hljs-attr\">      - stream:</span>\n<span class=\"hljs-attr\">          arn:</span> arn:aws:kinesis:region:XXXXXX:stream/foo\n<span class=\"hljs-attr\">          batchSize:</span> <span class=\"hljs-number\">100</span>\n<span class=\"hljs-attr\">          startingPosition:</span> LATEST\n<span class=\"hljs-attr\">          enabled:</span> <span class=\"hljs-literal\">false</span></code></pre>\n","__filename":"providers\\aws\\events\\streams.md","__url":"/providers/aws/events/streams/","__resourceUrl":"/providers/aws/events/streams/index.html","__dataUrl":"/providers/aws/events/streams/index.html.fa108736998b661e6c6f2bc59dc4f8c1.json"}