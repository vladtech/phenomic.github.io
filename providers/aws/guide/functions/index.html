<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/phenomic.browser.74f4a4b5a2e5af5372a1.css" /><meta data-react-helmet="true" name="generator" content="Phenomic 0.18.1"/><meta data-react-helmet="true" property="og:site_name" content="PhenomicDemo1"/><meta data-react-helmet="true" name="twitter:site" content="@"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Serverless Framework - AWS Lambda Guide - Functions"/><meta data-react-helmet="true" property="og:url" content="http://phenomcidemo1.com/providers/aws/guide/functions/"/><meta data-react-helmet="true" property="og:description" content="How to configure AWS Lambda functions in the Serverless Framework"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Serverless Framework - AWS Lambda Guide - Functions"/><meta data-react-helmet="true" name="twitter:creator" content="@"/><meta data-react-helmet="true" name="twitter:description" content="How to configure AWS Lambda functions in the Serverless Framework"/><meta data-react-helmet="true" name="description" content="How to configure AWS Lambda functions in the Serverless Framework"/><title data-react-helmet="true">Serverless Framework - AWS Lambda Guide - Functions</title></head><body><div id="phenomic"><div class="_1RdlK" data-reactroot="" data-reactid="1" data-react-checksum="1044854164"><div hidden="" data-reactid="2"><!-- react-empty: 3 --><!-- react-empty: 4 --><style data-reactid="5">@-ms-viewport { width: device-width; }</style></div><header class="_2FSyU" data-reactid="6"><nav class="_3LSR3" data-reactid="7"><div class="_3AJay" data-reactid="8"><a class="UWcAH" href="/" data-reactid="9">Home</a></div><div class="_3X6jh" data-reactid="10"><!-- react-text: 11 --><!-- /react-text --><!-- react-text: 12 --><!-- /react-text --></div></nav></header><div class="_3SQKJ" data-reactid="13"><div class="_1V853" data-reactid="14"><!-- react-empty: 15 --><h1 class="_2wBO_" data-reactid="16">Serverless Framework - AWS Lambda Guide - Functions</h1><div class="phenomic-BodyContainer" data-reactid="17"><!-- DOCS-SITE-LINK:START automatically generated  -->
### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/guide/functions)
<!-- DOCS-SITE-LINK:END -->
<h1 id="functions"><a href="#functions" class="phenomic-HeadingAnchor">#</a>Functions</h1>
<p>If you are using AWS as a provider for your <em>Service</em>, all <em>Functions</em> are AWS Lambda functions.</p>
<h2 id="configuration"><a href="#configuration" class="phenomic-HeadingAnchor">#</a>Configuration</h2>
<p>All of the AWS Lambda functions in your serverless service can be found in <code>serverless.yml</code> under the <code>functions</code> property.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService

<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  runtime:</span> nodejs4<span class="hljs-number">.3</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne</code></pre>
<p>The <code>handler</code> property points to the file and module containing the code you want to run in your function.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// handler.js</span>

<span class="hljs-built_in">module</span>.exports.functionOne = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, context, callback</span>) </span>{}</code></pre>
<p>You can add as many functions as you want within this property.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService

<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  runtime:</span> nodejs4<span class="hljs-number">.3</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne
<span class="hljs-attr">    description:</span> optional description for your Lambda
<span class="hljs-attr">  functionTwo:</span>
<span class="hljs-attr">    handler:</span> handler.functionTwo
<span class="hljs-attr">  functionThree:</span>
<span class="hljs-attr">    handler:</span> handler.functionThree</code></pre>
<p>Your functions can either inherit their settings from the <code>provider</code> property.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService

<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  runtime:</span> nodejs4<span class="hljs-number">.3</span>
<span class="hljs-attr">  memorySize:</span> <span class="hljs-number">512</span> <span class="hljs-comment"># inherited value</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne</code></pre>
<p>Or you can specify properties at the function level.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService

<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  runtime:</span> nodejs4<span class="hljs-number">.3</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne
<span class="hljs-attr">    memorySize:</span> <span class="hljs-number">512</span> <span class="hljs-comment"># function specific</span></code></pre>
<h2 id="permissions"><a href="#permissions" class="phenomic-HeadingAnchor">#</a>Permissions</h2>
<p>Every AWS Lambda function needs permission to interact with other AWS infrastructure resources within your account.  These permissions are set via an AWS IAM Role.  You can set permission policy statements within this role via the <code>provider.iamRoleStatements</code> property.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService

<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  runtime:</span> nodejs4<span class="hljs-number">.3</span>
<span class="hljs-attr">  iamRoleStatements:</span> <span class="hljs-comment"># permissions for all of your functions can be set here</span>
<span class="hljs-attr">    - Effect:</span> Allow
<span class="hljs-attr">      Action:</span> <span class="hljs-comment"># Gives permission to DynamoDB tables in a specific region</span>
<span class="hljs-attr">        - dynamodb:</span>DescribeTable
<span class="hljs-attr">        - dynamodb:</span>Query
<span class="hljs-attr">        - dynamodb:</span>Scan
<span class="hljs-attr">        - dynamodb:</span>GetItem
<span class="hljs-attr">        - dynamodb:</span>PutItem
<span class="hljs-attr">        - dynamodb:</span>UpdateItem
<span class="hljs-attr">        - dynamodb:</span>DeleteItem
<span class="hljs-attr">      Resource:</span> <span class="hljs-string">"arn:aws:dynamodb:us-east-1:*:*"</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne
<span class="hljs-attr">    memorySize:</span> <span class="hljs-number">512</span></code></pre>
<p>Another example:</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> myService
<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  iamRoleStatements:</span>
<span class="hljs-attr">      -  Effect:</span> <span class="hljs-string">"Allow"</span>
<span class="hljs-attr">         Action:</span>
<span class="hljs-bullet">           -</span> <span class="hljs-string">"s3:ListBucket"</span>
<span class="hljs-attr">         Resource:</span> { <span class="hljs-string">"Fn::Join"</span> : [<span class="hljs-string">""</span>, [<span class="hljs-string">"arn:aws:s3:::"</span>, { <span class="hljs-string">"Ref"</span> : <span class="hljs-string">"ServerlessDeploymentBucket"</span>} ] ] } <span class="hljs-comment"># You can put CloudFormation syntax in here.  No one will judge you.  Remember, this all gets translated to CloudFormation.</span>
<span class="hljs-attr">      -  Effect:</span> <span class="hljs-string">"Allow"</span>
<span class="hljs-attr">         Action:</span>
<span class="hljs-bullet">           -</span> <span class="hljs-string">"s3:PutObject"</span>
<span class="hljs-attr">         Resource:</span>
<span class="hljs-attr">           Fn:</span>:Join:
<span class="hljs-bullet">             -</span> <span class="hljs-string">""</span>
<span class="hljs-bullet">             -</span> - <span class="hljs-string">"arn:aws:s3:::"</span>
<span class="hljs-bullet">               -</span> <span class="hljs-string">"Ref"</span> : <span class="hljs-string">"ServerlessDeploymentBucket"</span>

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  functionOne:</span>
<span class="hljs-attr">    handler:</span> handler.functionOne
<span class="hljs-attr">    memorySize:</span> <span class="hljs-number">512</span></code></pre>
<p>You can also use an existing IAM role by adding your IAM Role ARN in the <code>iamRoleARN</code> property. For example:</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">service:</span> new-service
<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  iamRoleARN:</span> arn:aws:iam::YourAccountNumber:role/YourIamRole</code></pre>
<p>Support for separate IAM Roles per function is coming soon.</p>
<h2 id="vpc-configuration"><a href="#vpc-configuration" class="phenomic-HeadingAnchor">#</a>VPC Configuration</h2>
<p>You can add VPC configuration to a specific function in <code>serverless.yml</code> by adding a <code>vpc</code> object property in the function configuration. This object should contain the <code>securityGroupIds</code> and <code>subnetIds</code> array properties needed to construct VPC for this function. Here's an example configuration:</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>
<span class="hljs-attr">service:</span> service-name
<span class="hljs-attr">provider:</span> aws

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  hello:</span>
<span class="hljs-attr">    handler:</span> handler.hello
<span class="hljs-attr">    vpc:</span>
<span class="hljs-attr">      securityGroupIds:</span>
<span class="hljs-bullet">        -</span> securityGroupId1
<span class="hljs-bullet">        -</span> securityGroupId2
<span class="hljs-attr">      subnetIds:</span>
<span class="hljs-bullet">        -</span> subnetId1
<span class="hljs-bullet">        -</span> subnetId2</code></pre>
<p>Or if you want to apply VPC configuration to all functions in your service, you can add the configuration to the higher level <code>provider</code> object, and overwrite these service level config at the function level. For example:</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>
<span class="hljs-attr">service:</span> service-name
<span class="hljs-attr">provider:</span>
<span class="hljs-attr">  name:</span> aws
<span class="hljs-attr">  vpc:</span>
<span class="hljs-attr">    securityGroupIds:</span>
<span class="hljs-bullet">      -</span> securityGroupId1
<span class="hljs-bullet">      -</span> securityGroupId2
<span class="hljs-attr">    subnetIds:</span>
<span class="hljs-bullet">      -</span> subnetId1
<span class="hljs-bullet">      -</span> subnetId2

<span class="hljs-attr">functions:</span>
<span class="hljs-attr">  hello:</span> <span class="hljs-comment"># this function will overwrite the service level vpc config above</span>
<span class="hljs-attr">    handler:</span> handler.hello
<span class="hljs-attr">    vpc:</span>
<span class="hljs-attr">      securityGroupIds:</span>
<span class="hljs-bullet">        -</span> securityGroupId1
<span class="hljs-bullet">        -</span> securityGroupId2
<span class="hljs-attr">      subnetIds:</span>
<span class="hljs-bullet">        -</span> subnetId1
<span class="hljs-bullet">        -</span> subnetId2
<span class="hljs-attr">  users:</span> <span class="hljs-comment"># this function will inherit the service level vpc config above</span>
<span class="hljs-attr">    handler:</span> handler.users</code></pre>
<p>Then, when you run <code>serverless deploy</code>, VPC configuration will be deployed along with your lambda function.</p>
<h2 id="environment-variables"><a href="#environment-variables" class="phenomic-HeadingAnchor">#</a>Environment Variables</h2>
<p>We're working on great Environment Variable support. Until then, you'll be able to use the following tools for different languages to set environment variables and make them available to your code.</p>
<h2 id="javascript"><a href="#javascript" class="phenomic-HeadingAnchor">#</a>Javascript</h2>
<p>You can use <a href="https://www.npmjs.com/package/dotenv">dotenv</a> to load files with environment variables. Those variables can be set during your CI process or locally and then packaged and deployed together with your function code.</p>
<h2 id="python"><a href="#python" class="phenomic-HeadingAnchor">#</a>Python</h2>
<p>You can use <a href="https://github.com/theskumar/python-dotenv">python-dotenv</a> to load files with environment variables. Those variables can be set during your CI process or locally and then packaged and deployed together with your function code.</p>
<h2 id="java"><a href="#java" class="phenomic-HeadingAnchor">#</a>Java</h2>
<p>For Java the easiest way to set up environment like configuration is through <a href="https://docs.oracle.com/javase/tutorial/essential/environment/properties.html">property files</a>. While those will not be available as environment variables they are very commonly used configuration mechanisms throughout Java.</p>
<h2 id="log-group-resources"><a href="#log-group-resources" class="phenomic-HeadingAnchor">#</a>Log Group Resources</h2>
<p>By default, the framework does not create LogGroups for your Lambdas. However this behavior will be deprecated soon and we'll be adding CloudFormation LogGroups resources as part of the stack. This makes it easy to clean up your log groups in the case you remove your service, and make the lambda IAM permissions much more specific and secure.</p>
<p>To opt in for this feature now to avoid breaking changes later, add the following to your provider config in serverless.yml:</p>
<pre><code>provider:
  cfLogs: true
</code></pre>
<p>If you get a CloudFormation error saying that log group already exists, you have to remove it first from AWS console, then deploy, otherwise for new services this should work out of the box.</p>
</div></div></div><footer class="_1BvTd" data-reactid="18"><p data-reactid="19"><a href="https://github.com/MoOx/phenomic#readme" class="_1a1P_" data-reactid="20"><!-- react-text: 21 -->Website generated with <!-- /react-text --><span class="_2b3UD" data-reactid="22">&lt;Phenomic /&gt;</span></a></p></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"Content here not used, see src/layouts/PageError","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.c51e41dcf93740dd221b7da7702623a9.json"},{"title":"Documentation","layout":"Homepage","description":"The Serverless Framework allows you to deploy auto-scaling, pay-per-execution, event-driven functions to any cloud.  We currently support…","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.9d6d4d7f67ddac85bde8b7359493fb00.json"},{"title":"First Post","date":"2016-01-22T00:00:00.000Z","layout":"Post","description":"This is the first post! Code is highlighted by default.","__filename":"posts\\first-post.md","__url":"/posts/first-post/","__resourceUrl":"/posts/first-post/index.html","__dataUrl":"/posts/first-post/index.html.09d9cb922929bf066db6b640939485a4.json"},{"title":"Hello World!","date":"2016-02-14T00:00:00.000Z","layout":"Post","description":"Hello there. Here is another dumb post.","__filename":"posts\\hello-world.md","__url":"/posts/hello-world/","__resourceUrl":"/posts/hello-world/index.html","__dataUrl":"/posts/hello-world/index.html.71dba0e386497410490147d8e028e650.json"},{"title":"Serverless Framework Commands - AWS Lambda - Create","menuText":"Create","menuOrder":1,"description":"Creates a new Service in your current working directory","layout":"Page","__filename":"providers\\aws\\cli-reference\\create.md","__url":"/providers/aws/cli-reference/create/","__resourceUrl":"/providers/aws/cli-reference/create/index.html","__dataUrl":"/providers/aws/cli-reference/create/index.html.b036f914fe49765f2aa232b72cd13c5e.json"},{"title":"Serverless Framework Commands - AWS Lambda - Deploy","menuText":"Deploy","menuOrder":3,"description":"Deploy your service to the specified provider","layout":"Page","__filename":"providers\\aws\\cli-reference\\deploy.md","__url":"/providers/aws/cli-reference/deploy/","__resourceUrl":"/providers/aws/cli-reference/deploy/index.html","__dataUrl":"/providers/aws/cli-reference/deploy/index.html.4e5038ebff52854b3fda337469faea60.json"},{"title":"Serverless Framework Commands - AWS Lambda - Info","menuText":"Info","menuOrder":6,"description":"Display information about your deployed service and the AWS Lambda Functions, Events and AWS Resources it contains.","layout":"Page","__filename":"providers\\aws\\cli-reference\\info.md","__url":"/providers/aws/cli-reference/info/","__resourceUrl":"/providers/aws/cli-reference/info/index.html","__dataUrl":"/providers/aws/cli-reference/info/index.html.5ed12d870d932d4de7ca61be2e13d985.json"},{"title":"Serverless Framework Commands - AWS Lambda - Install","menuText":"Install","menuOrder":2,"description":"Install pre-written AWS Lambda Functions, Events and Resources with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\install.md","__url":"/providers/aws/cli-reference/install/","__resourceUrl":"/providers/aws/cli-reference/install/index.html","__dataUrl":"/providers/aws/cli-reference/install/index.html.4884dae55d8cb803dba34dd034c22a21.json"},{"title":"Serverless Framework Commands - AWS Lambda - Invoke","menuText":"Invoke","menuOrder":4,"description":"Invoke an AWS Lambda Function using the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\invoke.md","__url":"/providers/aws/cli-reference/invoke/","__resourceUrl":"/providers/aws/cli-reference/invoke/index.html","__dataUrl":"/providers/aws/cli-reference/invoke/index.html.561cbb8f63a8e87acf050a57a29400c3.json"},{"title":"Serverless Framework Commands - AWS Lambda - Logs","menuText":"Logs","menuOrder":5,"description":"View logs of your AWS Lambda Function within your terminal using the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\logs.md","__url":"/providers/aws/cli-reference/logs/","__resourceUrl":"/providers/aws/cli-reference/logs/index.html","__dataUrl":"/providers/aws/cli-reference/logs/index.html.5d9915ff3e5fc2e6515efd212745042b.json"},{"title":"Serverless - AWS Lambda - CLI Reference","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda CLI Reference Welcome to the Serverless AWS Lambda CLI Reference!  Please select a section on the left to get…","__filename":"providers\\aws\\cli-reference\\readme.md","__url":"/providers/aws/cli-reference/readme/","__resourceUrl":"/providers/aws/cli-reference/readme/index.html","__dataUrl":"/providers/aws/cli-reference/readme/index.html.30d0b25fe7716f8d5e63debc21f49448.json"},{"title":"Serverless Framework Commands - AWS Lambda - Remove","menuText":"Remove","menuOrder":7,"description":"Remove a deployed Service and all of its AWS Lambda Functions, Events and Resources","layout":"Page","__filename":"providers\\aws\\cli-reference\\remove.md","__url":"/providers/aws/cli-reference/remove/","__resourceUrl":"/providers/aws/cli-reference/remove/index.html","__dataUrl":"/providers/aws/cli-reference/remove/index.html.7a90e097f62394c8b36f12f9f29d3382.json"},{"title":"Serverless Rollback CLI Command","menuText":"Rollback","menuOrder":9,"description":"Rollback the Serverless service to a specific deployment","layout":"Page","__filename":"providers\\aws\\cli-reference\\rollback.md","__url":"/providers/aws/cli-reference/rollback/","__resourceUrl":"/providers/aws/cli-reference/rollback/index.html","__dataUrl":"/providers/aws/cli-reference/rollback/index.html.220fc0520d479e002f8324d483998572.json"},{"title":"Serverless Framework Commands - AWS Lambda - Serverless Stats","menuText":"Serverless Stats","menuOrder":8,"description":"Enables or disables Serverless Statistic logging within the Serverless Framework.","layout":"Page","__filename":"providers\\aws\\cli-reference\\slstats.md","__url":"/providers/aws/cli-reference/slstats/","__resourceUrl":"/providers/aws/cli-reference/slstats/index.html","__dataUrl":"/providers/aws/cli-reference/slstats/index.html.c3beb8ebe120b1a16ad46557d99180dc.json"},{"title":"Serverless Framework - AWS Lambda Events - API Gateway","menuText":"API Gateway","menuOrder":1,"description":"Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\apigateway.md","__url":"/providers/aws/events/apigateway/","__resourceUrl":"/providers/aws/events/apigateway/index.html","__dataUrl":"/providers/aws/events/apigateway/index.html.ca154daffac2c19ba3842e68da373332.json"},{"title":"Serverless - AWS Lambda - Events","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Events Welcome to the Serverless AWS Lambda Events Glossary!  Please select a section on the left to get started.…","__filename":"providers\\aws\\events\\index.md","__url":"/providers/aws/events/","__resourceUrl":"/providers/aws/events/index.html","__dataUrl":"/providers/aws/events/index.html.e41f3e432daadd5f1793f38771f451b6.json"},{"title":"Serverless Framework - AWS Lambda Events - S3","menuText":"S3","menuOrder":3,"description":"Setting up AWS S3 Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\s3.md","__url":"/providers/aws/events/s3/","__resourceUrl":"/providers/aws/events/s3/index.html","__dataUrl":"/providers/aws/events/s3/index.html.dd942664e184888af89dea21240b14da.json"},{"title":"Serverless Framework - AWS Lambda Events - Scheduled & Recurring","menuText":"Schedule","menuOrder":4,"description":"Setting up Scheduled, Recurring, CRON Task Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\schedule.md","__url":"/providers/aws/events/schedule/","__resourceUrl":"/providers/aws/events/schedule/index.html","__dataUrl":"/providers/aws/events/schedule/index.html.8af9acd122d9f9faec181c8d7fe1496b.json"},{"title":"Serverless Framework - AWS Lambda Events - SNS","menuText":"SNS","menuOrder":5,"description":"Setting up AWS SNS Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\sns.md","__url":"/providers/aws/events/sns/","__resourceUrl":"/providers/aws/events/sns/index.html","__dataUrl":"/providers/aws/events/sns/index.html.cbec6cdaa4de3488cdae9369747aa0a5.json"},{"title":"Serverless Framework - AWS Lambda Events - Kinesis & DynamoDB Streams","menuText":"Kinesis & DynamoDB","menuOrder":2,"description":"Setting up AWS Kinesis Streams and AWS DynamoDB Streams Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\streams.md","__url":"/providers/aws/events/streams/","__resourceUrl":"/providers/aws/events/streams/index.html","__dataUrl":"/providers/aws/events/streams/index.html.fa108736998b661e6c6f2bc59dc4f8c1.json"},{"title":"Cron Example","menuText":"Cron Example","description":"Create a Serverless cron job","layout":"Page","__filename":"providers\\aws\\examples\\cron\\index.md","__url":"/providers/aws/examples/cron/","__resourceUrl":"/providers/aws/examples/cron/index.html","__dataUrl":"/providers/aws/examples/cron/index.html.31bdf93c78cd5afe94034961f15b6d09.json"},{"title":"JavaScript Cron Example","menuText":"JavaScript Cron Example","description":"Create a Serverless scheduled cron job with Node.js","layout":"Page","__filename":"providers\\aws\\examples\\cron\\node\\index.md","__url":"/providers/aws/examples/cron/node/","__resourceUrl":"/providers/aws/examples/cron/node/index.html","__dataUrl":"/providers/aws/examples/cron/node/index.html.128246e0ff4e96704a08a107b1de741f.json"},{"title":"Hello World Example","menuText":"Hello World Example","description":"Example of creating a Hello World function in Node.js and Python with the Serverless framework","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\index.md","__url":"/providers/aws/examples/hello-world/","__resourceUrl":"/providers/aws/examples/hello-world/index.html","__dataUrl":"/providers/aws/examples/hello-world/index.html.1d0360591c941ba23f32317b0f337655.json"},{"title":"Hello World Node.js Example","menuText":"Hello World Node.js Example","description":"Create a Node.js Hello World Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\node\\index.md","__url":"/providers/aws/examples/hello-world/node/","__resourceUrl":"/providers/aws/examples/hello-world/node/index.html","__dataUrl":"/providers/aws/examples/hello-world/node/index.html.29bdaa8e1c041db769c6a97cfbc8082c.json"},{"title":"Hello World Python Example","menuText":"Hello World Python Example","description":"Create a simple Python powered Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\python\\index.md","__url":"/providers/aws/examples/hello-world/python/","__resourceUrl":"/providers/aws/examples/hello-world/python/index.html","__dataUrl":"/providers/aws/examples/hello-world/python/index.html.0bd6e062ccaa13df88ebf1fc329f4aea.json"},{"title":"Serverless - AWS Lambda - Examples","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Examples Welcome to the Serverless Amazon Web Services Examples! Please select an example below: Hello World Using…","__filename":"providers\\aws\\examples\\index.md","__url":"/providers/aws/examples/","__resourceUrl":"/providers/aws/examples/index.html","__dataUrl":"/providers/aws/examples/index.html.f138cd0162cddefb4102e107655b7911.json"},{"title":"Using External Libraries","menuText":"Using External Libraries","description":"Example of Using External Libraries in NodeJS and Python with the serverless framework","layout":"Page","__filename":"providers\\aws\\examples\\using-external-libraries\\index.md","__url":"/providers/aws/examples/using-external-libraries/","__resourceUrl":"/providers/aws/examples/using-external-libraries/index.html","__dataUrl":"/providers/aws/examples/using-external-libraries/index.html.ac471f93f7bc463b4cc8709382bfcad6.json"},{"title":"Using External libraries in Node.js Example","menuText":"External libraries in Node.js","description":"Create a Node.js using external libraries Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\using-external-libraries\\node\\index.md","__url":"/providers/aws/examples/using-external-libraries/node/","__resourceUrl":"/providers/aws/examples/using-external-libraries/node/index.html","__dataUrl":"/providers/aws/examples/using-external-libraries/node/index.html.6f151688227333653882879611a67aa2.json"},{"title":"Serving HTML through API Gateway Example","menuText":"Serving HTML Example","description":"Example of serving HTML page through API Gateway","layout":"Page","__filename":"providers\\aws\\examples\\web-serving-html\\index.md","__url":"/providers/aws/examples/web-serving-html/","__resourceUrl":"/providers/aws/examples/web-serving-html/index.html","__dataUrl":"/providers/aws/examples/web-serving-html/index.html.3382f7b1edb850467108bb6d77404ff0.json"},{"title":"Serving HTML in Node.js through API Gateway Example","menuText":"Serving HTML in Node.js Example","layout":"Page","description":"Serving HTML in Node.js through API Gateway Example This is an example of serving vanilla HTML/CSS/JS through API Gateway.","__filename":"providers\\aws\\examples\\web-serving-html\\node\\index.md","__url":"/providers/aws/examples/web-serving-html/node/","__resourceUrl":"/providers/aws/examples/web-serving-html/node/index.html","__dataUrl":"/providers/aws/examples/web-serving-html/node/index.html.06a29f4a08f29fcf1ff8f9b045dba3a1.json"},{"title":"Serverless Framework - AWS Lambda Guide - Credentials","menuText":"Credentials","menuOrder":3,"description":"How to set up the Serverless Framework with your Amazon Web Services credentials","layout":"Page","__filename":"providers\\aws\\guide\\credentials.md","__url":"/providers/aws/guide/credentials/","__resourceUrl":"/providers/aws/guide/credentials/index.html","__dataUrl":"/providers/aws/guide/credentials/index.html.bd0d7c4e3667b16d58588e596aba3720.json"},{"title":"Serverless Framework - AWS Lambda Guide - Deploying","menuText":"Deploying","menuOrder":8,"description":"How to deploy your AWS Lambda functions and their required infrastructure","layout":"Page","__filename":"providers\\aws\\guide\\deploying.md","__url":"/providers/aws/guide/deploying/","__resourceUrl":"/providers/aws/guide/deploying/index.html","__dataUrl":"/providers/aws/guide/deploying/index.html.1315d2246fe07465f5ebb145e8c08191.json"},{"title":"Serverless Framework - AWS Lambda Guide - Events","menuText":"Events","menuOrder":6,"description":"Configuring AWS Lambda function events in the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\events.md","__url":"/providers/aws/guide/events/","__resourceUrl":"/providers/aws/guide/events/index.html","__dataUrl":"/providers/aws/guide/events/index.html.b7e590c1de61d60a546f5d479c22d1ed.json"},{"title":"Serverless Framework - AWS Lambda Guide - Functions","menuText":"Functions","menuOrder":5,"description":"How to configure AWS Lambda functions in the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\functions.md","__url":"/providers/aws/guide/functions/","__resourceUrl":"/providers/aws/guide/functions/index.html","__dataUrl":"/providers/aws/guide/functions/index.html.06c90a63d85bdd20b564df5861b2ae62.json"},{"title":"Serverless - AWS Guide","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Guide Welcome to the Serverless AWS Lambda Guide!  Please select a section on the left to get started. Note: Before…","__filename":"providers\\aws\\guide\\index.md","__url":"/providers/aws/guide/","__resourceUrl":"/providers/aws/guide/index.html","__dataUrl":"/providers/aws/guide/index.html.3dc194b9a60d758e513c1d25aafc7a23.json"},{"title":"Serverless Framework - AWS Lambda Guide - Installing The Serverless Framework","menuText":"Installation","menuOrder":2,"description":"How to install the Serverless Framework and start using AWS Lambda","layout":"Page","__filename":"providers\\aws\\guide\\installation.md","__url":"/providers/aws/guide/installation/","__resourceUrl":"/providers/aws/guide/installation/index.html","__dataUrl":"/providers/aws/guide/installation/index.html.8af505f5a3d6c9d5648d7bbf58bfe6ef.json"},{"title":"Serverless Framework - AWS Lambda Guide - Introduction","menuText":"Intro","menuOrder":1,"description":"An introduction to using AWS and AWS Lambda with the Serverless Framework.","layout":"Page","__filename":"providers\\aws\\guide\\intro.md","__url":"/providers/aws/guide/intro/","__resourceUrl":"/providers/aws/guide/intro/index.html","__dataUrl":"/providers/aws/guide/intro/index.html.a46783eaa228881bbe2b080bcaa75a05.json"},{"title":"Serverless Framework Guide - AWS Lambda Guide - Packaging","menuText":"Packaging","menuOrder":11,"description":"How the Serverless Framework packages your AWS Lambda functions and other available options","layout":"Page","__filename":"providers\\aws\\guide\\packaging.md","__url":"/providers/aws/guide/packaging/","__resourceUrl":"/providers/aws/guide/packaging/index.html","__dataUrl":"/providers/aws/guide/packaging/index.html.7a8d744de718e83803ae2be21a10614f.json"},{"title":"Serverless Framework - AWS Lambda Guide - Plugins","menuText":"Plugins","menuOrder":12,"description":"How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\plugins.md","__url":"/providers/aws/guide/plugins/","__resourceUrl":"/providers/aws/guide/plugins/index.html","__dataUrl":"/providers/aws/guide/plugins/index.html.d5d107e3701022e68f09390c15e88aa9.json"},{"title":"Serverless Framework - AWS Lambda Guide - AWS Infrastructure Resources","menuText":"Resources","menuOrder":7,"description":"How to deploy and manage AWS infrastructure to use with your AWS Lambda functions with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\resources.md","__url":"/providers/aws/guide/resources/","__resourceUrl":"/providers/aws/guide/resources/index.html","__dataUrl":"/providers/aws/guide/resources/index.html.373d7907a37cafdc81bf2eef79c7424e.json"},{"title":"Serverless Framework - AWS Lambda Guide - Services","menuText":"Services","menuOrder":4,"description":"How to manage and configure serverless services, which contain your AWS Lambda functions, their events and infrastructure resources.","layout":"Page","__filename":"providers\\aws\\guide\\services.md","__url":"/providers/aws/guide/services/","__resourceUrl":"/providers/aws/guide/services/index.html","__dataUrl":"/providers/aws/guide/services/index.html.226a528c5cbefa71116f32e9605e4eb9.json"},{"title":"Serverless Framework - AWS Lambda Guide - Testing","menuText":"Testing","menuOrder":9,"description":"Recommendations and best practices for testing AWS Lambda Functions with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\testing.md","__url":"/providers/aws/guide/testing/","__resourceUrl":"/providers/aws/guide/testing/index.html","__dataUrl":"/providers/aws/guide/testing/index.html.de8ba35a8f0bdd35ce47e70b69ba2dcd.json"},{"title":"Serverless Framework - AWS Lambda Guide - Comparison Of Serverless Framework V.1 & V.0","menuText":"V.0 & V.1","menuOrder":15,"description":"A comparison of Serverless Framework V.1 and Serverless Framework V.0","layout":"Page","__filename":"providers\\aws\\guide\\v0_to_v1.md","__url":"/providers/aws/guide/v0_to_v1/","__resourceUrl":"/providers/aws/guide/v0_to_v1/index.html","__dataUrl":"/providers/aws/guide/v0_to_v1/index.html.47b3b43bcbc92df636068fae4acdf865.json"},{"title":"Serverless Variables","menuText":"Variables","menuOrder":10,"description":"How to use Serverless Variables to insert dynamic configuration info into your serverless.yml","layout":"Page","__filename":"providers\\aws\\guide\\variables.md","__url":"/providers/aws/guide/variables/","__resourceUrl":"/providers/aws/guide/variables/index.html","__dataUrl":"/providers/aws/guide/variables/index.html.c0ed8a6f61390b1ce3a0b0f42e28aa54.json"},{"title":"Serverless Framework - AWS Lambda Guide - Pinning the Serverless framework version","menuText":"Version pinning","menuOrder":14,"description":"How to pin a service to certain Serverless versions.","layout":"Page","__filename":"providers\\aws\\guide\\version.md","__url":"/providers/aws/guide/version/","__resourceUrl":"/providers/aws/guide/version/index.html","__dataUrl":"/providers/aws/guide/version/index.html.04909ba9464cd86a71b3b751ccdafee4.json"},{"title":"Serverless Framework Guide - AWS Lambda - Workflow","menuText":"Workflow","menuOrder":13,"description":"A guide and cheatsheet containing CLI commands and workflow recommendations.","layout":"Page","__filename":"providers\\aws\\guide\\workflow.md","__url":"/providers/aws/guide/workflow/","__resourceUrl":"/providers/aws/guide/workflow/index.html","__dataUrl":"/providers/aws/guide/workflow/index.html.cdb79debe41475ae8e0fddabf4e6dd25.json"},{"title":"Serverless - AWS Documentation","menuText":"AWS","layout":"Page","description":"Serverless AWS Provider Documentation Welcome to the Serverless Amazon Web Services documentation!  Please select a section on the left to…","__filename":"providers\\aws\\index.md","__url":"/providers/aws/","__resourceUrl":"/providers/aws/index.html","__dataUrl":"/providers/aws/index.html.c6abfccacd478fc8fc8456669afd8c53.json"},{"title":"Serverless - Infrastructure Providers","menuText":"Providers","layout":"Page","description":"Serverless Infrastructure Providers Providers are where your serverless functions run in the cloud. Under the hood, the serverless…","__filename":"providers\\index.md","__url":"/providers/","__resourceUrl":"/providers/index.html","__dataUrl":"/providers/index.html.288b8c05c0110762d00ff480174d8709.json"}];window.__INITIAL_STATE__ = {"pages":{"/providers/aws/guide/functions/":{"head":{"title":"Serverless Framework - AWS Lambda Guide - Functions","menuText":"Functions","menuOrder":5,"description":"How to configure AWS Lambda functions in the Serverless Framework","layout":"Page"},"body":"<!-- DOCS-SITE-LINK:START automatically generated  -->\n### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/guide/functions)\n<!-- DOCS-SITE-LINK:END -->\n<h1 id=\"functions\"><a href=\"#functions\" class=\"phenomic-HeadingAnchor\">#</a>Functions</h1>\n<p>If you are using AWS as a provider for your <em>Service</em>, all <em>Functions</em> are AWS Lambda functions.</p>\n<h2 id=\"configuration\"><a href=\"#configuration\" class=\"phenomic-HeadingAnchor\">#</a>Configuration</h2>\n<p>All of the AWS Lambda functions in your serverless service can be found in <code>serverless.yml</code> under the <code>functions</code> property.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  runtime:</span> nodejs4<span class=\"hljs-number\">.3</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne</code></pre>\n<p>The <code>handler</code> property points to the file and module containing the code you want to run in your function.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-comment\">// handler.js</span>\n\n<span class=\"hljs-built_in\">module</span>.exports.functionOne = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event, context, callback</span>) </span>{}</code></pre>\n<p>You can add as many functions as you want within this property.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  runtime:</span> nodejs4<span class=\"hljs-number\">.3</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne\n<span class=\"hljs-attr\">    description:</span> optional description for your Lambda\n<span class=\"hljs-attr\">  functionTwo:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionTwo\n<span class=\"hljs-attr\">  functionThree:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionThree</code></pre>\n<p>Your functions can either inherit their settings from the <code>provider</code> property.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  runtime:</span> nodejs4<span class=\"hljs-number\">.3</span>\n<span class=\"hljs-attr\">  memorySize:</span> <span class=\"hljs-number\">512</span> <span class=\"hljs-comment\"># inherited value</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne</code></pre>\n<p>Or you can specify properties at the function level.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  runtime:</span> nodejs4<span class=\"hljs-number\">.3</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne\n<span class=\"hljs-attr\">    memorySize:</span> <span class=\"hljs-number\">512</span> <span class=\"hljs-comment\"># function specific</span></code></pre>\n<h2 id=\"permissions\"><a href=\"#permissions\" class=\"phenomic-HeadingAnchor\">#</a>Permissions</h2>\n<p>Every AWS Lambda function needs permission to interact with other AWS infrastructure resources within your account.  These permissions are set via an AWS IAM Role.  You can set permission policy statements within this role via the <code>provider.iamRoleStatements</code> property.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  runtime:</span> nodejs4<span class=\"hljs-number\">.3</span>\n<span class=\"hljs-attr\">  iamRoleStatements:</span> <span class=\"hljs-comment\"># permissions for all of your functions can be set here</span>\n<span class=\"hljs-attr\">    - Effect:</span> Allow\n<span class=\"hljs-attr\">      Action:</span> <span class=\"hljs-comment\"># Gives permission to DynamoDB tables in a specific region</span>\n<span class=\"hljs-attr\">        - dynamodb:</span>DescribeTable\n<span class=\"hljs-attr\">        - dynamodb:</span>Query\n<span class=\"hljs-attr\">        - dynamodb:</span>Scan\n<span class=\"hljs-attr\">        - dynamodb:</span>GetItem\n<span class=\"hljs-attr\">        - dynamodb:</span>PutItem\n<span class=\"hljs-attr\">        - dynamodb:</span>UpdateItem\n<span class=\"hljs-attr\">        - dynamodb:</span>DeleteItem\n<span class=\"hljs-attr\">      Resource:</span> <span class=\"hljs-string\">\"arn:aws:dynamodb:us-east-1:*:*\"</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne\n<span class=\"hljs-attr\">    memorySize:</span> <span class=\"hljs-number\">512</span></code></pre>\n<p>Another example:</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> myService\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  iamRoleStatements:</span>\n<span class=\"hljs-attr\">      -  Effect:</span> <span class=\"hljs-string\">\"Allow\"</span>\n<span class=\"hljs-attr\">         Action:</span>\n<span class=\"hljs-bullet\">           -</span> <span class=\"hljs-string\">\"s3:ListBucket\"</span>\n<span class=\"hljs-attr\">         Resource:</span> { <span class=\"hljs-string\">\"Fn::Join\"</span> : [<span class=\"hljs-string\">\"\"</span>, [<span class=\"hljs-string\">\"arn:aws:s3:::\"</span>, { <span class=\"hljs-string\">\"Ref\"</span> : <span class=\"hljs-string\">\"ServerlessDeploymentBucket\"</span>} ] ] } <span class=\"hljs-comment\"># You can put CloudFormation syntax in here.  No one will judge you.  Remember, this all gets translated to CloudFormation.</span>\n<span class=\"hljs-attr\">      -  Effect:</span> <span class=\"hljs-string\">\"Allow\"</span>\n<span class=\"hljs-attr\">         Action:</span>\n<span class=\"hljs-bullet\">           -</span> <span class=\"hljs-string\">\"s3:PutObject\"</span>\n<span class=\"hljs-attr\">         Resource:</span>\n<span class=\"hljs-attr\">           Fn:</span>:Join:\n<span class=\"hljs-bullet\">             -</span> <span class=\"hljs-string\">\"\"</span>\n<span class=\"hljs-bullet\">             -</span> - <span class=\"hljs-string\">\"arn:aws:s3:::\"</span>\n<span class=\"hljs-bullet\">               -</span> <span class=\"hljs-string\">\"Ref\"</span> : <span class=\"hljs-string\">\"ServerlessDeploymentBucket\"</span>\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  functionOne:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.functionOne\n<span class=\"hljs-attr\">    memorySize:</span> <span class=\"hljs-number\">512</span></code></pre>\n<p>You can also use an existing IAM role by adding your IAM Role ARN in the <code>iamRoleARN</code> property. For example:</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">service:</span> new-service\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  iamRoleARN:</span> arn:aws:iam::YourAccountNumber:role/YourIamRole</code></pre>\n<p>Support for separate IAM Roles per function is coming soon.</p>\n<h2 id=\"vpc-configuration\"><a href=\"#vpc-configuration\" class=\"phenomic-HeadingAnchor\">#</a>VPC Configuration</h2>\n<p>You can add VPC configuration to a specific function in <code>serverless.yml</code> by adding a <code>vpc</code> object property in the function configuration. This object should contain the <code>securityGroupIds</code> and <code>subnetIds</code> array properties needed to construct VPC for this function. Here's an example configuration:</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n<span class=\"hljs-attr\">service:</span> service-name\n<span class=\"hljs-attr\">provider:</span> aws\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  hello:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.hello\n<span class=\"hljs-attr\">    vpc:</span>\n<span class=\"hljs-attr\">      securityGroupIds:</span>\n<span class=\"hljs-bullet\">        -</span> securityGroupId1\n<span class=\"hljs-bullet\">        -</span> securityGroupId2\n<span class=\"hljs-attr\">      subnetIds:</span>\n<span class=\"hljs-bullet\">        -</span> subnetId1\n<span class=\"hljs-bullet\">        -</span> subnetId2</code></pre>\n<p>Or if you want to apply VPC configuration to all functions in your service, you can add the configuration to the higher level <code>provider</code> object, and overwrite these service level config at the function level. For example:</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n<span class=\"hljs-attr\">service:</span> service-name\n<span class=\"hljs-attr\">provider:</span>\n<span class=\"hljs-attr\">  name:</span> aws\n<span class=\"hljs-attr\">  vpc:</span>\n<span class=\"hljs-attr\">    securityGroupIds:</span>\n<span class=\"hljs-bullet\">      -</span> securityGroupId1\n<span class=\"hljs-bullet\">      -</span> securityGroupId2\n<span class=\"hljs-attr\">    subnetIds:</span>\n<span class=\"hljs-bullet\">      -</span> subnetId1\n<span class=\"hljs-bullet\">      -</span> subnetId2\n\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  hello:</span> <span class=\"hljs-comment\"># this function will overwrite the service level vpc config above</span>\n<span class=\"hljs-attr\">    handler:</span> handler.hello\n<span class=\"hljs-attr\">    vpc:</span>\n<span class=\"hljs-attr\">      securityGroupIds:</span>\n<span class=\"hljs-bullet\">        -</span> securityGroupId1\n<span class=\"hljs-bullet\">        -</span> securityGroupId2\n<span class=\"hljs-attr\">      subnetIds:</span>\n<span class=\"hljs-bullet\">        -</span> subnetId1\n<span class=\"hljs-bullet\">        -</span> subnetId2\n<span class=\"hljs-attr\">  users:</span> <span class=\"hljs-comment\"># this function will inherit the service level vpc config above</span>\n<span class=\"hljs-attr\">    handler:</span> handler.users</code></pre>\n<p>Then, when you run <code>serverless deploy</code>, VPC configuration will be deployed along with your lambda function.</p>\n<h2 id=\"environment-variables\"><a href=\"#environment-variables\" class=\"phenomic-HeadingAnchor\">#</a>Environment Variables</h2>\n<p>We're working on great Environment Variable support. Until then, you'll be able to use the following tools for different languages to set environment variables and make them available to your code.</p>\n<h2 id=\"javascript\"><a href=\"#javascript\" class=\"phenomic-HeadingAnchor\">#</a>Javascript</h2>\n<p>You can use <a href=\"https://www.npmjs.com/package/dotenv\">dotenv</a> to load files with environment variables. Those variables can be set during your CI process or locally and then packaged and deployed together with your function code.</p>\n<h2 id=\"python\"><a href=\"#python\" class=\"phenomic-HeadingAnchor\">#</a>Python</h2>\n<p>You can use <a href=\"https://github.com/theskumar/python-dotenv\">python-dotenv</a> to load files with environment variables. Those variables can be set during your CI process or locally and then packaged and deployed together with your function code.</p>\n<h2 id=\"java\"><a href=\"#java\" class=\"phenomic-HeadingAnchor\">#</a>Java</h2>\n<p>For Java the easiest way to set up environment like configuration is through <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/properties.html\">property files</a>. While those will not be available as environment variables they are very commonly used configuration mechanisms throughout Java.</p>\n<h2 id=\"log-group-resources\"><a href=\"#log-group-resources\" class=\"phenomic-HeadingAnchor\">#</a>Log Group Resources</h2>\n<p>By default, the framework does not create LogGroups for your Lambdas. However this behavior will be deprecated soon and we'll be adding CloudFormation LogGroups resources as part of the stack. This makes it easy to clean up your log groups in the case you remove your service, and make the lambda IAM permissions much more specific and secure.</p>\n<p>To opt in for this feature now to avoid breaking changes later, add the following to your provider config in serverless.yml:</p>\n<pre><code>provider:\n  cfLogs: true\n</code></pre>\n<p>If you get a CloudFormation error saying that log group already exists, you have to remove it first from AWS console, then deploy, otherwise for new services this should work out of the box.</p>\n","__filename":"providers\\aws\\guide\\functions.md","__url":"/providers/aws/guide/functions/","__resourceUrl":"/providers/aws/guide/functions/index.html","__dataUrl":"/providers/aws/guide/functions/index.html.06c90a63d85bdd20b564df5861b2ae62.json","type":"Page"}}}</script><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script src="/phenomic.browser.74f4a4b5a2e5af5372a1.js"></script></body></html>