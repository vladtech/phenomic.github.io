{"head":{"title":"Serverless Framework Guide - AWS Lambda Guide - Packaging","menuText":"Packaging","menuOrder":11,"description":"How the Serverless Framework packages your AWS Lambda functions and other available options","layout":"Page"},"body":"<!-- DOCS-SITE-LINK:START automatically generated  -->\n### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/guide/packaging)\n<!-- DOCS-SITE-LINK:END -->\n<h1 id=\"packaging\"><a href=\"#packaging\" class=\"phenomic-HeadingAnchor\">#</a>Packaging</h1>\n<p>Sometimes you might like to have more control over your function artifacts and how they are packaged.</p>\n<p>You can use the <code>package</code> and <code>exclude</code> configuration for more control over the packaging process.</p>\n<h2 id=\"exclude--include\"><a href=\"#exclude--include\" class=\"phenomic-HeadingAnchor\">#</a>Exclude / include</h2>\n<p>Exclude allows you to define globs that will be excluded from the resulting artifact. If you wish to\ninclude files you can use a glob pattern prefixed with <code>!</code> such as <code>!re-include-me/**</code>. Serverless will run the glob patterns in order.</p>\n<h2 id=\"example\"><a href=\"#example\" class=\"phenomic-HeadingAnchor\">#</a>Example</h2>\n<p>Exclude all node_modules but then re-include a specific modules (in this case node-fetch)</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">package:</span>\n<span class=\"hljs-attr\">  exclude:</span>\n<span class=\"hljs-bullet\">    -</span> node_modules/**\n<span class=\"hljs-bullet\">    -</span> <span class=\"hljs-string\">'!node_modules/node-fetch/**'</span></code></pre>\n<p>Exclude all files but <code>handler.js</code></p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">package:</span>\n<span class=\"hljs-attr\">  exclude:</span>\n<span class=\"hljs-bullet\">    -</span> <span class=\"hljs-string\">\"!src/function/handler.js\"</span></code></pre>\n<pre><code>exclude:\n  - tmp/**\n  - .git/**\n</code></pre>\n<h2 id=\"artifact\"><a href=\"#artifact\" class=\"phenomic-HeadingAnchor\">#</a>Artifact</h2>\n<p>For complete control over the packaging process you can specify your own zip file for your service. Serverless won't zip your service if this is configured so <code>exclude</code> will be ignored.</p>\n<h2 id=\"example-1\"><a href=\"#example-1\" class=\"phenomic-HeadingAnchor\">#</a>Example</h2>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">service:</span> my-service\n<span class=\"hljs-attr\">package:</span>\n<span class=\"hljs-attr\">  exclude:</span>\n<span class=\"hljs-bullet\">    -</span> tmp/**\n<span class=\"hljs-bullet\">    -</span> .git/**\n<span class=\"hljs-attr\">  artifact:</span> path/to/my-artifact.zip</code></pre>\n<h2 id=\"packaging-functions-separately\"><a href=\"#packaging-functions-separately\" class=\"phenomic-HeadingAnchor\">#</a>Packaging functions separately</h2>\n<p>If you want even more controls over your functions for deployment you can configure them to be packaged independently. This allows you more control for optimizing your deployment. To enable individual packaging set <code>individually</code> to true in the service wide packaging settings.</p>\n<p>Then for every function you can use the same <code>exclude / artifact</code> config options as you can service wide. The <code>exclude</code> option will be merged with the service wide options to create one <code>exclude</code> config per function during packaging.</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">service:</span> my-service\n<span class=\"hljs-attr\">package:</span>\n<span class=\"hljs-attr\">  individually:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">  exclude:</span>\n<span class=\"hljs-bullet\">    -</span> excluded-by-default.json\n<span class=\"hljs-attr\">functions:</span>\n<span class=\"hljs-attr\">  hello:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.hello\n<span class=\"hljs-attr\">    package:</span>\n<span class=\"hljs-attr\">      exclude:</span>\n        <span class=\"hljs-comment\"># We're including this file so it will be in the final package of this function only</span>\n<span class=\"hljs-bullet\">        -</span> <span class=\"hljs-string\">'!excluded-by-default.json'</span>\n<span class=\"hljs-attr\">  world:</span>\n<span class=\"hljs-attr\">    handler:</span> handler.hello\n<span class=\"hljs-attr\">    package:</span>\n<span class=\"hljs-attr\">      exclude:</span>\n<span class=\"hljs-bullet\">        -</span> event.json</code></pre>\n","__filename":"providers\\aws\\guide\\packaging.md","__url":"/providers/aws/guide/packaging/","__resourceUrl":"/providers/aws/guide/packaging/index.html","__dataUrl":"/providers/aws/guide/packaging/index.html.7a8d744de718e83803ae2be21a10614f.json"}