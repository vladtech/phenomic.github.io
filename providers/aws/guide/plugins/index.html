<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/phenomic.browser.74f4a4b5a2e5af5372a1.css" /><meta data-react-helmet="true" name="generator" content="Phenomic 0.18.1"/><meta data-react-helmet="true" property="og:site_name" content="PhenomicDemo1"/><meta data-react-helmet="true" name="twitter:site" content="@"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Serverless Framework - AWS Lambda Guide - Plugins"/><meta data-react-helmet="true" property="og:url" content="http://phenomcidemo1.com/providers/aws/guide/plugins/"/><meta data-react-helmet="true" property="og:description" content="How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Serverless Framework - AWS Lambda Guide - Plugins"/><meta data-react-helmet="true" name="twitter:creator" content="@"/><meta data-react-helmet="true" name="twitter:description" content="How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework"/><meta data-react-helmet="true" name="description" content="How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework"/><title data-react-helmet="true">Serverless Framework - AWS Lambda Guide - Plugins</title></head><body><div id="phenomic"><div class="_1RdlK" data-reactroot="" data-reactid="1" data-react-checksum="2111169616"><div hidden="" data-reactid="2"><!-- react-empty: 3 --><!-- react-empty: 4 --><style data-reactid="5">@-ms-viewport { width: device-width; }</style></div><header class="_2FSyU" data-reactid="6"><nav class="_3LSR3" data-reactid="7"><div class="_3AJay" data-reactid="8"><a class="UWcAH" href="/" data-reactid="9">Home</a></div><div class="_3X6jh" data-reactid="10"><!-- react-text: 11 --><!-- /react-text --><!-- react-text: 12 --><!-- /react-text --></div></nav></header><div class="_3SQKJ" data-reactid="13"><div class="_1V853" data-reactid="14"><!-- react-empty: 15 --><h1 class="_2wBO_" data-reactid="16">Serverless Framework - AWS Lambda Guide - Plugins</h1><div class="phenomic-BodyContainer" data-reactid="17"><!-- DOCS-SITE-LINK:START automatically generated  -->
### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/guide/plugins)
<!-- DOCS-SITE-LINK:END -->
<h1 id="plugins"><a href="#plugins" class="phenomic-HeadingAnchor">#</a>Plugins</h1>
<p>A Plugin is custom Javascript code that creates new or extends existing commands within the Serverless Framework.  The Serverless Framework is merely a group of Plugins that are provided in the core.  If you or your organization have a specific workflow, install a pre-written Plugin or write a plugin to customize the Framework to your needs.  External Plugins are written exactly the same way as the core Plugins.</p>
<h2 id="installing-plugins"><a href="#installing-plugins" class="phenomic-HeadingAnchor">#</a>Installing Plugins</h2>
<p>External Plugins are added on a per service basis and are not applied globally.  Make sure you are in your Service's root directory, then install the corresponding Plugin with the help of NPM:</p>
<pre><code>npm install --save custom-serverless-plugin
</code></pre>
<p>We need to tell Serverless that we want to use the plugin inside our service. We do this by adding the name of the Plugin to the <code>plugins</code> section in the <code>serverless.yml</code> file.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml file</span>

<span class="hljs-attr">plugins:</span>
<span class="hljs-bullet">  -</span> custom-serverless-plugin</code></pre>
<p>Plugins might want to add extra information which should be accessible to Serverless. The <code>custom</code> section in the <code>serverless.yml</code> file is the place where you can add necessary
configurations for your plugins (the plugins author / documentation will tell you if you need to add anything there):</p>
<pre><code class="hljs language-yml"><span class="hljs-attr">plugins:</span>
<span class="hljs-bullet">  -</span> custom-serverless-plugin

<span class="hljs-attr">custom:</span>
<span class="hljs-attr">  customkey:</span> customvalue</code></pre>
<h2 id="service-local-plugin"><a href="#service-local-plugin" class="phenomic-HeadingAnchor">#</a>Service local plugin</h2>
<p>If you are working on a plugin or have a plugin that is just designed for one project you can add them to the <code>.serverless_plugins</code> directory at the root of your service, and in the <code>plugins</code> array in <code>serverless.yml</code>.</p>
<p>The plugin will be loaded based on being named <code>custom-serverless-plugin.js</code> or <code>custom-serverless-plugin\index.js</code> in the root of <code>.serverless_plugins</code> folder.</p>
<h3 id="load-order"><a href="#load-order" class="phenomic-HeadingAnchor">#</a>Load Order</h3>
<p>Keep in mind that the order you define your plugins matters. When Serverless loads all the core plugins and then the custom plugins in the order you've defined them.</p>
<pre><code class="hljs language-yml"><span class="hljs-comment"># serverless.yml</span>

<span class="hljs-attr">plugins:</span>
<span class="hljs-bullet">  -</span> plugin1
<span class="hljs-bullet">  -</span> plugin2</code></pre>
<p>In this case <code>plugin1</code> is loaded before <code>plugin2</code>.</p>
<h2 id="writing-plugins"><a href="#writing-plugins" class="phenomic-HeadingAnchor">#</a>Writing Plugins</h2>
<h3 id="concepts"><a href="#concepts" class="phenomic-HeadingAnchor">#</a>Concepts</h3>
<h4 id="plugin"><a href="#plugin" class="phenomic-HeadingAnchor">#</a>Plugin</h4>
<p>Code which defines <em>Commands</em>, any <em>Events</em> within a <em>Command</em>, and any <em>Hooks</em> assigned to an <em>Lifecycle Event</em>.</p>
<ul>
<li>
<p>Command // CLI configuration, commands, subcommands, options</p>
<ul>
<li>
<p>LifecycleEvent(s) // Events that happen sequentially when the command is run</p>
<ul>
<li>Hook(s)  // Code that runs when a Lifecycle Event happens during a Command</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="command"><a href="#command" class="phenomic-HeadingAnchor">#</a>Command</h4>
<p>A CLI <em>Command</em> that can be called by a user, e.g. <code>serverless deploy</code>.  A Command has no logic, but simply defines the CLI configuration (e.g. command, subcommands, parameters) and the <em>Lifecycle Events</em> for the command. Every command defines its own lifecycle events.</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPlugin</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">deploy</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'resources'</span>,
          <span class="hljs-string">'functions'</span>
        ]
      },
    };
  }
}

<span class="hljs-built_in">module</span>.exports = MyPlugin;</code></pre>
<h4 id="lifecycle-events"><a href="#lifecycle-events" class="phenomic-HeadingAnchor">#</a>Lifecycle Events</h4>
<p>Events that fire sequentially during a Command.  The above example list two Events.  However, for each Event, and additional <code>before</code> and <code>after</code> event is created.  Therefore, six Events exist in the above example:</p>
<ul>
<li><code>before:deploy:resources</code></li>
<li><code>deploy:resources</code></li>
<li><code>after:deploy:resources</code></li>
<li><code>before:deploy:functions</code></li>
<li><code>deploy:functions</code></li>
<li><code>after:deploy:functions</code></li>
</ul>
<p>The name of the command in front of lifecycle events when they are used for Hooks.</p>
<h4 id="hooks"><a href="#hooks" class="phenomic-HeadingAnchor">#</a>Hooks</h4>
<p>A Hook binds code to any lifecycle event from any command.</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Deploy</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">deploy</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'resources'</span>,
          <span class="hljs-string">'functions'</span>
        ]
      },
    };

    <span class="hljs-keyword">this</span>.hooks = {
      <span class="hljs-string">'before:deploy:resources'</span>: <span class="hljs-keyword">this</span>.beforeDeployResources,
      <span class="hljs-string">'deploy:resources'</span>: <span class="hljs-keyword">this</span>.deployResources,
      <span class="hljs-string">'after:deploy:functions'</span>: <span class="hljs-keyword">this</span>.afterDeployFunctions
    };
  }

  beforeDeployResources() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Before Deploy Resources'</span>);
  }

  deployResources() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Deploy Resources'</span>);
  }

  afterDeployFunctions() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'After Deploy Functions'</span>);
  }
}

<span class="hljs-built_in">module</span>.exports = Deploy;</code></pre>
<h3 id="nesting-commands"><a href="#nesting-commands" class="phenomic-HeadingAnchor">#</a>Nesting Commands</h3>
<p>You can also nest commands, e.g. if you want to provide a command <code>serverless deploy single</code>. Those nested commands have their own lifecycle events and do not inherit them from their parents.</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPlugin</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">deploy</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'resources'</span>,
          <span class="hljs-string">'functions'</span>
        ],
        <span class="hljs-attr">commands</span>: {
          <span class="hljs-attr">function</span>: {
            <span class="hljs-attr">lifecycleEvents</span>: [
              <span class="hljs-string">'package'</span>,
              <span class="hljs-string">'deploy'</span>
            ],
          },
        },
      },
    }
  }
}

<span class="hljs-built_in">module</span>.exports = MyPlugin;</code></pre>
<h3 id="defining-options"><a href="#defining-options" class="phenomic-HeadingAnchor">#</a>Defining Options</h3>
<p>Each (sub)command can have multiple Options.</p>
<p>Options are passed in with a double dash (<code>--</code>) like this: <code>serverless function deploy --function functionName</code>.</p>
<p>Option Shortcuts are passed in with a single dash (<code>-</code>) like this: <code>serverless function deploy -f functionName</code>.</p>
<p>The <code>options</code> object will be passed in as the second parameter to the constructor of your plugin.  </p>
<p>In it, you can optionally add a <code>shortcut</code> property, as well as a <code>required</code> property.  The Framework will return an error if a <code>required</code> Option is not included.</p>
<p><strong>Note:</strong> At this time, the Serverless Framework does not use parameters.</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Deploy</span> </span>{
  <span class="hljs-keyword">constructor</span>(serverless, options) {
    <span class="hljs-keyword">this</span>.serverless = serverless;
    <span class="hljs-keyword">this</span>.options = options;

    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">deploy</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'functions'</span>
        ],
        <span class="hljs-attr">options</span>: {
          <span class="hljs-attr">function</span>: {
            <span class="hljs-attr">usage</span>: <span class="hljs-string">'Specify the function you want to deploy (e.g. "--function myFunction")'</span>,
            <span class="hljs-attr">shortcut</span>: <span class="hljs-string">'f'</span>,
            <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
          }
        }
      },
    };

    <span class="hljs-keyword">this</span>.hooks = {
      <span class="hljs-string">'deploy:functions'</span>: <span class="hljs-keyword">this</span>.deployFunction.bind(<span class="hljs-keyword">this</span>)
    }
  }

  deployFunction() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Deploying function: '</span>, <span class="hljs-keyword">this</span>.options.function);
  }
}

<span class="hljs-built_in">module</span>.exports = Deploy;</code></pre>
<h3 id="provider-specific-plugins"><a href="#provider-specific-plugins" class="phenomic-HeadingAnchor">#</a>Provider Specific Plugins</h3>
<p>Plugins can be provider specific which means that they are bound to a provider.</p>
<p><strong>Note:</strong> Binding a plugin to a provider is optional. Serverless will always consider your plugin if you don't specify a <code>provider</code>.</p>
<p>The provider definition should be added inside the plugins constructor:</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProviderDeploy</span> </span>{
  <span class="hljs-keyword">constructor</span>(serverless, options) {
    <span class="hljs-keyword">this</span>.serverless = serverless;
    <span class="hljs-keyword">this</span>.options = options;

    <span class="hljs-comment">// set the providers name here</span>
    <span class="hljs-keyword">this</span>.provider = <span class="hljs-string">'providerName'</span>;

    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">deploy</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'functions'</span>
        ],
        <span class="hljs-attr">options</span>: {
          <span class="hljs-attr">function</span>: {
            <span class="hljs-attr">usage</span>: <span class="hljs-string">'Specify the function you want to deploy (e.g. "--function myFunction")'</span>,
            <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
          }
        }
      },
    };

    <span class="hljs-keyword">this</span>.hooks = {
      <span class="hljs-string">'deploy:functions'</span>: <span class="hljs-keyword">this</span>.deployFunction.bind(<span class="hljs-keyword">this</span>)
    }
  }

  deployFunction() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Deploying function: '</span>, <span class="hljs-keyword">this</span>.options.function);
  }
}

<span class="hljs-built_in">module</span>.exports = ProviderDeploy;</code></pre>
<p>The Plugin's functionality will now only be executed when the Serverless Service's provider matches the provider name which is defined inside the plugins constructor.</p>
<h3 id="serverless-instance"><a href="#serverless-instance" class="phenomic-HeadingAnchor">#</a>Serverless Instance</h3>
<p>The <code>serverless</code> instance which enables access to global service config during runtime is passed in as the first parameter to the plugin constructor.</p>
<pre><code class="hljs language-javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPlugin</span> </span>{
  <span class="hljs-keyword">constructor</span>(serverless, options) {
    <span class="hljs-keyword">this</span>.serverless = serverless;
    <span class="hljs-keyword">this</span>.options = options;

    <span class="hljs-keyword">this</span>.commands = {
      <span class="hljs-attr">log</span>: {
        <span class="hljs-attr">lifecycleEvents</span>: [
          <span class="hljs-string">'serverless'</span>
        ],
      },
    };

    <span class="hljs-keyword">this</span>.hooks = {
      <span class="hljs-string">'log:serverless'</span>: <span class="hljs-keyword">this</span>.logServerless.bind(<span class="hljs-keyword">this</span>)
    }
  }

  logServerless() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Serverless instance: '</span>, <span class="hljs-keyword">this</span>.serverless);
  }
}

<span class="hljs-built_in">module</span>.exports = MyPlugin;</code></pre>
<h3 id="command-naming"><a href="#command-naming" class="phenomic-HeadingAnchor">#</a>Command Naming</h3>
<p>Command names need to be unique. If we load two commands and both want to specify the same command (e.g. we have an integrated command <code>deploy</code> and an external command also wants to use <code>deploy</code>) the Serverless CLI will print an error and exit. If you want to have your own <code>deploy</code> command you need to name it something different like <code>myCompanyDeploy</code> so they don't clash with existing plugins.</p>
</div></div></div><footer class="_1BvTd" data-reactid="18"><p data-reactid="19"><a href="https://github.com/MoOx/phenomic#readme" class="_1a1P_" data-reactid="20"><!-- react-text: 21 -->Website generated with <!-- /react-text --><span class="_2b3UD" data-reactid="22">&lt;Phenomic /&gt;</span></a></p></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"Content here not used, see src/layouts/PageError","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.c51e41dcf93740dd221b7da7702623a9.json"},{"title":"Documentation","layout":"Homepage","description":"The Serverless Framework allows you to deploy auto-scaling, pay-per-execution, event-driven functions to any cloud.  We currently support…","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.9d6d4d7f67ddac85bde8b7359493fb00.json"},{"title":"First Post","date":"2016-01-22T00:00:00.000Z","layout":"Post","description":"This is the first post! Code is highlighted by default.","__filename":"posts\\first-post.md","__url":"/posts/first-post/","__resourceUrl":"/posts/first-post/index.html","__dataUrl":"/posts/first-post/index.html.09d9cb922929bf066db6b640939485a4.json"},{"title":"Hello World!","date":"2016-02-14T00:00:00.000Z","layout":"Post","description":"Hello there. Here is another dumb post.","__filename":"posts\\hello-world.md","__url":"/posts/hello-world/","__resourceUrl":"/posts/hello-world/index.html","__dataUrl":"/posts/hello-world/index.html.71dba0e386497410490147d8e028e650.json"},{"title":"Serverless Framework Commands - AWS Lambda - Create","menuText":"Create","menuOrder":1,"description":"Creates a new Service in your current working directory","layout":"Page","__filename":"providers\\aws\\cli-reference\\create.md","__url":"/providers/aws/cli-reference/create/","__resourceUrl":"/providers/aws/cli-reference/create/index.html","__dataUrl":"/providers/aws/cli-reference/create/index.html.b036f914fe49765f2aa232b72cd13c5e.json"},{"title":"Serverless Framework Commands - AWS Lambda - Deploy","menuText":"Deploy","menuOrder":3,"description":"Deploy your service to the specified provider","layout":"Page","__filename":"providers\\aws\\cli-reference\\deploy.md","__url":"/providers/aws/cli-reference/deploy/","__resourceUrl":"/providers/aws/cli-reference/deploy/index.html","__dataUrl":"/providers/aws/cli-reference/deploy/index.html.4e5038ebff52854b3fda337469faea60.json"},{"title":"Serverless Framework Commands - AWS Lambda - Info","menuText":"Info","menuOrder":6,"description":"Display information about your deployed service and the AWS Lambda Functions, Events and AWS Resources it contains.","layout":"Page","__filename":"providers\\aws\\cli-reference\\info.md","__url":"/providers/aws/cli-reference/info/","__resourceUrl":"/providers/aws/cli-reference/info/index.html","__dataUrl":"/providers/aws/cli-reference/info/index.html.5ed12d870d932d4de7ca61be2e13d985.json"},{"title":"Serverless Framework Commands - AWS Lambda - Install","menuText":"Install","menuOrder":2,"description":"Install pre-written AWS Lambda Functions, Events and Resources with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\install.md","__url":"/providers/aws/cli-reference/install/","__resourceUrl":"/providers/aws/cli-reference/install/index.html","__dataUrl":"/providers/aws/cli-reference/install/index.html.4884dae55d8cb803dba34dd034c22a21.json"},{"title":"Serverless Framework Commands - AWS Lambda - Invoke","menuText":"Invoke","menuOrder":4,"description":"Invoke an AWS Lambda Function using the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\invoke.md","__url":"/providers/aws/cli-reference/invoke/","__resourceUrl":"/providers/aws/cli-reference/invoke/index.html","__dataUrl":"/providers/aws/cli-reference/invoke/index.html.561cbb8f63a8e87acf050a57a29400c3.json"},{"title":"Serverless Framework Commands - AWS Lambda - Logs","menuText":"Logs","menuOrder":5,"description":"View logs of your AWS Lambda Function within your terminal using the Serverless Framework","layout":"Page","__filename":"providers\\aws\\cli-reference\\logs.md","__url":"/providers/aws/cli-reference/logs/","__resourceUrl":"/providers/aws/cli-reference/logs/index.html","__dataUrl":"/providers/aws/cli-reference/logs/index.html.5d9915ff3e5fc2e6515efd212745042b.json"},{"title":"Serverless - AWS Lambda - CLI Reference","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda CLI Reference Welcome to the Serverless AWS Lambda CLI Reference!  Please select a section on the left to get…","__filename":"providers\\aws\\cli-reference\\readme.md","__url":"/providers/aws/cli-reference/readme/","__resourceUrl":"/providers/aws/cli-reference/readme/index.html","__dataUrl":"/providers/aws/cli-reference/readme/index.html.30d0b25fe7716f8d5e63debc21f49448.json"},{"title":"Serverless Framework Commands - AWS Lambda - Remove","menuText":"Remove","menuOrder":7,"description":"Remove a deployed Service and all of its AWS Lambda Functions, Events and Resources","layout":"Page","__filename":"providers\\aws\\cli-reference\\remove.md","__url":"/providers/aws/cli-reference/remove/","__resourceUrl":"/providers/aws/cli-reference/remove/index.html","__dataUrl":"/providers/aws/cli-reference/remove/index.html.7a90e097f62394c8b36f12f9f29d3382.json"},{"title":"Serverless Rollback CLI Command","menuText":"Rollback","menuOrder":9,"description":"Rollback the Serverless service to a specific deployment","layout":"Page","__filename":"providers\\aws\\cli-reference\\rollback.md","__url":"/providers/aws/cli-reference/rollback/","__resourceUrl":"/providers/aws/cli-reference/rollback/index.html","__dataUrl":"/providers/aws/cli-reference/rollback/index.html.220fc0520d479e002f8324d483998572.json"},{"title":"Serverless Framework Commands - AWS Lambda - Serverless Stats","menuText":"Serverless Stats","menuOrder":8,"description":"Enables or disables Serverless Statistic logging within the Serverless Framework.","layout":"Page","__filename":"providers\\aws\\cli-reference\\slstats.md","__url":"/providers/aws/cli-reference/slstats/","__resourceUrl":"/providers/aws/cli-reference/slstats/index.html","__dataUrl":"/providers/aws/cli-reference/slstats/index.html.c3beb8ebe120b1a16ad46557d99180dc.json"},{"title":"Serverless Framework - AWS Lambda Events - API Gateway","menuText":"API Gateway","menuOrder":1,"description":"Setting up AWS API Gateway Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\apigateway.md","__url":"/providers/aws/events/apigateway/","__resourceUrl":"/providers/aws/events/apigateway/index.html","__dataUrl":"/providers/aws/events/apigateway/index.html.ca154daffac2c19ba3842e68da373332.json"},{"title":"Serverless - AWS Lambda - Events","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Events Welcome to the Serverless AWS Lambda Events Glossary!  Please select a section on the left to get started.…","__filename":"providers\\aws\\events\\index.md","__url":"/providers/aws/events/","__resourceUrl":"/providers/aws/events/index.html","__dataUrl":"/providers/aws/events/index.html.e41f3e432daadd5f1793f38771f451b6.json"},{"title":"Serverless Framework - AWS Lambda Events - S3","menuText":"S3","menuOrder":3,"description":"Setting up AWS S3 Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\s3.md","__url":"/providers/aws/events/s3/","__resourceUrl":"/providers/aws/events/s3/index.html","__dataUrl":"/providers/aws/events/s3/index.html.dd942664e184888af89dea21240b14da.json"},{"title":"Serverless Framework - AWS Lambda Events - Scheduled & Recurring","menuText":"Schedule","menuOrder":4,"description":"Setting up Scheduled, Recurring, CRON Task Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\schedule.md","__url":"/providers/aws/events/schedule/","__resourceUrl":"/providers/aws/events/schedule/index.html","__dataUrl":"/providers/aws/events/schedule/index.html.8af9acd122d9f9faec181c8d7fe1496b.json"},{"title":"Serverless Framework - AWS Lambda Events - SNS","menuText":"SNS","menuOrder":5,"description":"Setting up AWS SNS Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\sns.md","__url":"/providers/aws/events/sns/","__resourceUrl":"/providers/aws/events/sns/index.html","__dataUrl":"/providers/aws/events/sns/index.html.cbec6cdaa4de3488cdae9369747aa0a5.json"},{"title":"Serverless Framework - AWS Lambda Events - Kinesis & DynamoDB Streams","menuText":"Kinesis & DynamoDB","menuOrder":2,"description":"Setting up AWS Kinesis Streams and AWS DynamoDB Streams Events with AWS Lambda via the Serverless Framework","layout":"Page","__filename":"providers\\aws\\events\\streams.md","__url":"/providers/aws/events/streams/","__resourceUrl":"/providers/aws/events/streams/index.html","__dataUrl":"/providers/aws/events/streams/index.html.fa108736998b661e6c6f2bc59dc4f8c1.json"},{"title":"Cron Example","menuText":"Cron Example","description":"Create a Serverless cron job","layout":"Page","__filename":"providers\\aws\\examples\\cron\\index.md","__url":"/providers/aws/examples/cron/","__resourceUrl":"/providers/aws/examples/cron/index.html","__dataUrl":"/providers/aws/examples/cron/index.html.31bdf93c78cd5afe94034961f15b6d09.json"},{"title":"JavaScript Cron Example","menuText":"JavaScript Cron Example","description":"Create a Serverless scheduled cron job with Node.js","layout":"Page","__filename":"providers\\aws\\examples\\cron\\node\\index.md","__url":"/providers/aws/examples/cron/node/","__resourceUrl":"/providers/aws/examples/cron/node/index.html","__dataUrl":"/providers/aws/examples/cron/node/index.html.128246e0ff4e96704a08a107b1de741f.json"},{"title":"Hello World Example","menuText":"Hello World Example","description":"Example of creating a Hello World function in Node.js and Python with the Serverless framework","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\index.md","__url":"/providers/aws/examples/hello-world/","__resourceUrl":"/providers/aws/examples/hello-world/index.html","__dataUrl":"/providers/aws/examples/hello-world/index.html.1d0360591c941ba23f32317b0f337655.json"},{"title":"Hello World Node.js Example","menuText":"Hello World Node.js Example","description":"Create a Node.js Hello World Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\node\\index.md","__url":"/providers/aws/examples/hello-world/node/","__resourceUrl":"/providers/aws/examples/hello-world/node/index.html","__dataUrl":"/providers/aws/examples/hello-world/node/index.html.29bdaa8e1c041db769c6a97cfbc8082c.json"},{"title":"Hello World Python Example","menuText":"Hello World Python Example","description":"Create a simple Python powered Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\hello-world\\python\\index.md","__url":"/providers/aws/examples/hello-world/python/","__resourceUrl":"/providers/aws/examples/hello-world/python/index.html","__dataUrl":"/providers/aws/examples/hello-world/python/index.html.0bd6e062ccaa13df88ebf1fc329f4aea.json"},{"title":"Serverless - AWS Lambda - Examples","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Examples Welcome to the Serverless Amazon Web Services Examples! Please select an example below: Hello World Using…","__filename":"providers\\aws\\examples\\index.md","__url":"/providers/aws/examples/","__resourceUrl":"/providers/aws/examples/index.html","__dataUrl":"/providers/aws/examples/index.html.f138cd0162cddefb4102e107655b7911.json"},{"title":"Using External Libraries","menuText":"Using External Libraries","description":"Example of Using External Libraries in NodeJS and Python with the serverless framework","layout":"Page","__filename":"providers\\aws\\examples\\using-external-libraries\\index.md","__url":"/providers/aws/examples/using-external-libraries/","__resourceUrl":"/providers/aws/examples/using-external-libraries/index.html","__dataUrl":"/providers/aws/examples/using-external-libraries/index.html.ac471f93f7bc463b4cc8709382bfcad6.json"},{"title":"Using External libraries in Node.js Example","menuText":"External libraries in Node.js","description":"Create a Node.js using external libraries Lambda function","layout":"Page","__filename":"providers\\aws\\examples\\using-external-libraries\\node\\index.md","__url":"/providers/aws/examples/using-external-libraries/node/","__resourceUrl":"/providers/aws/examples/using-external-libraries/node/index.html","__dataUrl":"/providers/aws/examples/using-external-libraries/node/index.html.6f151688227333653882879611a67aa2.json"},{"title":"Serving HTML through API Gateway Example","menuText":"Serving HTML Example","description":"Example of serving HTML page through API Gateway","layout":"Page","__filename":"providers\\aws\\examples\\web-serving-html\\index.md","__url":"/providers/aws/examples/web-serving-html/","__resourceUrl":"/providers/aws/examples/web-serving-html/index.html","__dataUrl":"/providers/aws/examples/web-serving-html/index.html.3382f7b1edb850467108bb6d77404ff0.json"},{"title":"Serving HTML in Node.js through API Gateway Example","menuText":"Serving HTML in Node.js Example","layout":"Page","description":"Serving HTML in Node.js through API Gateway Example This is an example of serving vanilla HTML/CSS/JS through API Gateway.","__filename":"providers\\aws\\examples\\web-serving-html\\node\\index.md","__url":"/providers/aws/examples/web-serving-html/node/","__resourceUrl":"/providers/aws/examples/web-serving-html/node/index.html","__dataUrl":"/providers/aws/examples/web-serving-html/node/index.html.06a29f4a08f29fcf1ff8f9b045dba3a1.json"},{"title":"Serverless Framework - AWS Lambda Guide - Credentials","menuText":"Credentials","menuOrder":3,"description":"How to set up the Serverless Framework with your Amazon Web Services credentials","layout":"Page","__filename":"providers\\aws\\guide\\credentials.md","__url":"/providers/aws/guide/credentials/","__resourceUrl":"/providers/aws/guide/credentials/index.html","__dataUrl":"/providers/aws/guide/credentials/index.html.bd0d7c4e3667b16d58588e596aba3720.json"},{"title":"Serverless Framework - AWS Lambda Guide - Deploying","menuText":"Deploying","menuOrder":8,"description":"How to deploy your AWS Lambda functions and their required infrastructure","layout":"Page","__filename":"providers\\aws\\guide\\deploying.md","__url":"/providers/aws/guide/deploying/","__resourceUrl":"/providers/aws/guide/deploying/index.html","__dataUrl":"/providers/aws/guide/deploying/index.html.1315d2246fe07465f5ebb145e8c08191.json"},{"title":"Serverless Framework - AWS Lambda Guide - Events","menuText":"Events","menuOrder":6,"description":"Configuring AWS Lambda function events in the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\events.md","__url":"/providers/aws/guide/events/","__resourceUrl":"/providers/aws/guide/events/index.html","__dataUrl":"/providers/aws/guide/events/index.html.b7e590c1de61d60a546f5d479c22d1ed.json"},{"title":"Serverless Framework - AWS Lambda Guide - Functions","menuText":"Functions","menuOrder":5,"description":"How to configure AWS Lambda functions in the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\functions.md","__url":"/providers/aws/guide/functions/","__resourceUrl":"/providers/aws/guide/functions/index.html","__dataUrl":"/providers/aws/guide/functions/index.html.06c90a63d85bdd20b564df5861b2ae62.json"},{"title":"Serverless - AWS Guide","menuText":"AWS","layout":"Page","description":"Serverless AWS Lambda Guide Welcome to the Serverless AWS Lambda Guide!  Please select a section on the left to get started. Note: Before…","__filename":"providers\\aws\\guide\\index.md","__url":"/providers/aws/guide/","__resourceUrl":"/providers/aws/guide/index.html","__dataUrl":"/providers/aws/guide/index.html.3dc194b9a60d758e513c1d25aafc7a23.json"},{"title":"Serverless Framework - AWS Lambda Guide - Installing The Serverless Framework","menuText":"Installation","menuOrder":2,"description":"How to install the Serverless Framework and start using AWS Lambda","layout":"Page","__filename":"providers\\aws\\guide\\installation.md","__url":"/providers/aws/guide/installation/","__resourceUrl":"/providers/aws/guide/installation/index.html","__dataUrl":"/providers/aws/guide/installation/index.html.8af505f5a3d6c9d5648d7bbf58bfe6ef.json"},{"title":"Serverless Framework - AWS Lambda Guide - Introduction","menuText":"Intro","menuOrder":1,"description":"An introduction to using AWS and AWS Lambda with the Serverless Framework.","layout":"Page","__filename":"providers\\aws\\guide\\intro.md","__url":"/providers/aws/guide/intro/","__resourceUrl":"/providers/aws/guide/intro/index.html","__dataUrl":"/providers/aws/guide/intro/index.html.a46783eaa228881bbe2b080bcaa75a05.json"},{"title":"Serverless Framework Guide - AWS Lambda Guide - Packaging","menuText":"Packaging","menuOrder":11,"description":"How the Serverless Framework packages your AWS Lambda functions and other available options","layout":"Page","__filename":"providers\\aws\\guide\\packaging.md","__url":"/providers/aws/guide/packaging/","__resourceUrl":"/providers/aws/guide/packaging/index.html","__dataUrl":"/providers/aws/guide/packaging/index.html.7a8d744de718e83803ae2be21a10614f.json"},{"title":"Serverless Framework - AWS Lambda Guide - Plugins","menuText":"Plugins","menuOrder":12,"description":"How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\plugins.md","__url":"/providers/aws/guide/plugins/","__resourceUrl":"/providers/aws/guide/plugins/index.html","__dataUrl":"/providers/aws/guide/plugins/index.html.d5d107e3701022e68f09390c15e88aa9.json"},{"title":"Serverless Framework - AWS Lambda Guide - AWS Infrastructure Resources","menuText":"Resources","menuOrder":7,"description":"How to deploy and manage AWS infrastructure to use with your AWS Lambda functions with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\resources.md","__url":"/providers/aws/guide/resources/","__resourceUrl":"/providers/aws/guide/resources/index.html","__dataUrl":"/providers/aws/guide/resources/index.html.373d7907a37cafdc81bf2eef79c7424e.json"},{"title":"Serverless Framework - AWS Lambda Guide - Services","menuText":"Services","menuOrder":4,"description":"How to manage and configure serverless services, which contain your AWS Lambda functions, their events and infrastructure resources.","layout":"Page","__filename":"providers\\aws\\guide\\services.md","__url":"/providers/aws/guide/services/","__resourceUrl":"/providers/aws/guide/services/index.html","__dataUrl":"/providers/aws/guide/services/index.html.226a528c5cbefa71116f32e9605e4eb9.json"},{"title":"Serverless Framework - AWS Lambda Guide - Testing","menuText":"Testing","menuOrder":9,"description":"Recommendations and best practices for testing AWS Lambda Functions with the Serverless Framework","layout":"Page","__filename":"providers\\aws\\guide\\testing.md","__url":"/providers/aws/guide/testing/","__resourceUrl":"/providers/aws/guide/testing/index.html","__dataUrl":"/providers/aws/guide/testing/index.html.de8ba35a8f0bdd35ce47e70b69ba2dcd.json"},{"title":"Serverless Framework - AWS Lambda Guide - Comparison Of Serverless Framework V.1 & V.0","menuText":"V.0 & V.1","menuOrder":15,"description":"A comparison of Serverless Framework V.1 and Serverless Framework V.0","layout":"Page","__filename":"providers\\aws\\guide\\v0_to_v1.md","__url":"/providers/aws/guide/v0_to_v1/","__resourceUrl":"/providers/aws/guide/v0_to_v1/index.html","__dataUrl":"/providers/aws/guide/v0_to_v1/index.html.47b3b43bcbc92df636068fae4acdf865.json"},{"title":"Serverless Variables","menuText":"Variables","menuOrder":10,"description":"How to use Serverless Variables to insert dynamic configuration info into your serverless.yml","layout":"Page","__filename":"providers\\aws\\guide\\variables.md","__url":"/providers/aws/guide/variables/","__resourceUrl":"/providers/aws/guide/variables/index.html","__dataUrl":"/providers/aws/guide/variables/index.html.c0ed8a6f61390b1ce3a0b0f42e28aa54.json"},{"title":"Serverless Framework - AWS Lambda Guide - Pinning the Serverless framework version","menuText":"Version pinning","menuOrder":14,"description":"How to pin a service to certain Serverless versions.","layout":"Page","__filename":"providers\\aws\\guide\\version.md","__url":"/providers/aws/guide/version/","__resourceUrl":"/providers/aws/guide/version/index.html","__dataUrl":"/providers/aws/guide/version/index.html.04909ba9464cd86a71b3b751ccdafee4.json"},{"title":"Serverless Framework Guide - AWS Lambda - Workflow","menuText":"Workflow","menuOrder":13,"description":"A guide and cheatsheet containing CLI commands and workflow recommendations.","layout":"Page","__filename":"providers\\aws\\guide\\workflow.md","__url":"/providers/aws/guide/workflow/","__resourceUrl":"/providers/aws/guide/workflow/index.html","__dataUrl":"/providers/aws/guide/workflow/index.html.cdb79debe41475ae8e0fddabf4e6dd25.json"},{"title":"Serverless - AWS Documentation","menuText":"AWS","layout":"Page","description":"Serverless AWS Provider Documentation Welcome to the Serverless Amazon Web Services documentation!  Please select a section on the left to…","__filename":"providers\\aws\\index.md","__url":"/providers/aws/","__resourceUrl":"/providers/aws/index.html","__dataUrl":"/providers/aws/index.html.c6abfccacd478fc8fc8456669afd8c53.json"},{"title":"Serverless - Infrastructure Providers","menuText":"Providers","layout":"Page","description":"Serverless Infrastructure Providers Providers are where your serverless functions run in the cloud. Under the hood, the serverless…","__filename":"providers\\index.md","__url":"/providers/","__resourceUrl":"/providers/index.html","__dataUrl":"/providers/index.html.288b8c05c0110762d00ff480174d8709.json"}];window.__INITIAL_STATE__ = {"pages":{"/providers/aws/guide/plugins/":{"head":{"title":"Serverless Framework - AWS Lambda Guide - Plugins","menuText":"Plugins","menuOrder":12,"description":"How to install and create Plugins to extend or overwrite the functionality of the Serverless Framework","layout":"Page"},"body":"<!-- DOCS-SITE-LINK:START automatically generated  -->\n### [Read this on the main serverless docs site](https://www.serverless.com/framework/docs/providers/aws/guide/plugins)\n<!-- DOCS-SITE-LINK:END -->\n<h1 id=\"plugins\"><a href=\"#plugins\" class=\"phenomic-HeadingAnchor\">#</a>Plugins</h1>\n<p>A Plugin is custom Javascript code that creates new or extends existing commands within the Serverless Framework.  The Serverless Framework is merely a group of Plugins that are provided in the core.  If you or your organization have a specific workflow, install a pre-written Plugin or write a plugin to customize the Framework to your needs.  External Plugins are written exactly the same way as the core Plugins.</p>\n<h2 id=\"installing-plugins\"><a href=\"#installing-plugins\" class=\"phenomic-HeadingAnchor\">#</a>Installing Plugins</h2>\n<p>External Plugins are added on a per service basis and are not applied globally.  Make sure you are in your Service's root directory, then install the corresponding Plugin with the help of NPM:</p>\n<pre><code>npm install --save custom-serverless-plugin\n</code></pre>\n<p>We need to tell Serverless that we want to use the plugin inside our service. We do this by adding the name of the Plugin to the <code>plugins</code> section in the <code>serverless.yml</code> file.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml file</span>\n\n<span class=\"hljs-attr\">plugins:</span>\n<span class=\"hljs-bullet\">  -</span> custom-serverless-plugin</code></pre>\n<p>Plugins might want to add extra information which should be accessible to Serverless. The <code>custom</code> section in the <code>serverless.yml</code> file is the place where you can add necessary\nconfigurations for your plugins (the plugins author / documentation will tell you if you need to add anything there):</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">plugins:</span>\n<span class=\"hljs-bullet\">  -</span> custom-serverless-plugin\n\n<span class=\"hljs-attr\">custom:</span>\n<span class=\"hljs-attr\">  customkey:</span> customvalue</code></pre>\n<h2 id=\"service-local-plugin\"><a href=\"#service-local-plugin\" class=\"phenomic-HeadingAnchor\">#</a>Service local plugin</h2>\n<p>If you are working on a plugin or have a plugin that is just designed for one project you can add them to the <code>.serverless_plugins</code> directory at the root of your service, and in the <code>plugins</code> array in <code>serverless.yml</code>.</p>\n<p>The plugin will be loaded based on being named <code>custom-serverless-plugin.js</code> or <code>custom-serverless-plugin\\index.js</code> in the root of <code>.serverless_plugins</code> folder.</p>\n<h3 id=\"load-order\"><a href=\"#load-order\" class=\"phenomic-HeadingAnchor\">#</a>Load Order</h3>\n<p>Keep in mind that the order you define your plugins matters. When Serverless loads all the core plugins and then the custom plugins in the order you've defined them.</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-comment\"># serverless.yml</span>\n\n<span class=\"hljs-attr\">plugins:</span>\n<span class=\"hljs-bullet\">  -</span> plugin1\n<span class=\"hljs-bullet\">  -</span> plugin2</code></pre>\n<p>In this case <code>plugin1</code> is loaded before <code>plugin2</code>.</p>\n<h2 id=\"writing-plugins\"><a href=\"#writing-plugins\" class=\"phenomic-HeadingAnchor\">#</a>Writing Plugins</h2>\n<h3 id=\"concepts\"><a href=\"#concepts\" class=\"phenomic-HeadingAnchor\">#</a>Concepts</h3>\n<h4 id=\"plugin\"><a href=\"#plugin\" class=\"phenomic-HeadingAnchor\">#</a>Plugin</h4>\n<p>Code which defines <em>Commands</em>, any <em>Events</em> within a <em>Command</em>, and any <em>Hooks</em> assigned to an <em>Lifecycle Event</em>.</p>\n<ul>\n<li>\n<p>Command // CLI configuration, commands, subcommands, options</p>\n<ul>\n<li>\n<p>LifecycleEvent(s) // Events that happen sequentially when the command is run</p>\n<ul>\n<li>Hook(s)  // Code that runs when a Lifecycle Event happens during a Command</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"command\"><a href=\"#command\" class=\"phenomic-HeadingAnchor\">#</a>Command</h4>\n<p>A CLI <em>Command</em> that can be called by a user, e.g. <code>serverless deploy</code>.  A Command has no logic, but simply defines the CLI configuration (e.g. command, subcommands, parameters) and the <em>Lifecycle Events</em> for the command. Every command defines its own lifecycle events.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyPlugin</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>() {\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">deploy</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'resources'</span>,\n          <span class=\"hljs-string\">'functions'</span>\n        ]\n      },\n    };\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = MyPlugin;</code></pre>\n<h4 id=\"lifecycle-events\"><a href=\"#lifecycle-events\" class=\"phenomic-HeadingAnchor\">#</a>Lifecycle Events</h4>\n<p>Events that fire sequentially during a Command.  The above example list two Events.  However, for each Event, and additional <code>before</code> and <code>after</code> event is created.  Therefore, six Events exist in the above example:</p>\n<ul>\n<li><code>before:deploy:resources</code></li>\n<li><code>deploy:resources</code></li>\n<li><code>after:deploy:resources</code></li>\n<li><code>before:deploy:functions</code></li>\n<li><code>deploy:functions</code></li>\n<li><code>after:deploy:functions</code></li>\n</ul>\n<p>The name of the command in front of lifecycle events when they are used for Hooks.</p>\n<h4 id=\"hooks\"><a href=\"#hooks\" class=\"phenomic-HeadingAnchor\">#</a>Hooks</h4>\n<p>A Hook binds code to any lifecycle event from any command.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Deploy</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>() {\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">deploy</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'resources'</span>,\n          <span class=\"hljs-string\">'functions'</span>\n        ]\n      },\n    };\n\n    <span class=\"hljs-keyword\">this</span>.hooks = {\n      <span class=\"hljs-string\">'before:deploy:resources'</span>: <span class=\"hljs-keyword\">this</span>.beforeDeployResources,\n      <span class=\"hljs-string\">'deploy:resources'</span>: <span class=\"hljs-keyword\">this</span>.deployResources,\n      <span class=\"hljs-string\">'after:deploy:functions'</span>: <span class=\"hljs-keyword\">this</span>.afterDeployFunctions\n    };\n  }\n\n  beforeDeployResources() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Before Deploy Resources'</span>);\n  }\n\n  deployResources() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Deploy Resources'</span>);\n  }\n\n  afterDeployFunctions() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'After Deploy Functions'</span>);\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = Deploy;</code></pre>\n<h3 id=\"nesting-commands\"><a href=\"#nesting-commands\" class=\"phenomic-HeadingAnchor\">#</a>Nesting Commands</h3>\n<p>You can also nest commands, e.g. if you want to provide a command <code>serverless deploy single</code>. Those nested commands have their own lifecycle events and do not inherit them from their parents.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyPlugin</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>() {\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">deploy</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'resources'</span>,\n          <span class=\"hljs-string\">'functions'</span>\n        ],\n        <span class=\"hljs-attr\">commands</span>: {\n          <span class=\"hljs-attr\">function</span>: {\n            <span class=\"hljs-attr\">lifecycleEvents</span>: [\n              <span class=\"hljs-string\">'package'</span>,\n              <span class=\"hljs-string\">'deploy'</span>\n            ],\n          },\n        },\n      },\n    }\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = MyPlugin;</code></pre>\n<h3 id=\"defining-options\"><a href=\"#defining-options\" class=\"phenomic-HeadingAnchor\">#</a>Defining Options</h3>\n<p>Each (sub)command can have multiple Options.</p>\n<p>Options are passed in with a double dash (<code>--</code>) like this: <code>serverless function deploy --function functionName</code>.</p>\n<p>Option Shortcuts are passed in with a single dash (<code>-</code>) like this: <code>serverless function deploy -f functionName</code>.</p>\n<p>The <code>options</code> object will be passed in as the second parameter to the constructor of your plugin.  </p>\n<p>In it, you can optionally add a <code>shortcut</code> property, as well as a <code>required</code> property.  The Framework will return an error if a <code>required</code> Option is not included.</p>\n<p><strong>Note:</strong> At this time, the Serverless Framework does not use parameters.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Deploy</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>(serverless, options) {\n    <span class=\"hljs-keyword\">this</span>.serverless = serverless;\n    <span class=\"hljs-keyword\">this</span>.options = options;\n\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">deploy</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'functions'</span>\n        ],\n        <span class=\"hljs-attr\">options</span>: {\n          <span class=\"hljs-attr\">function</span>: {\n            <span class=\"hljs-attr\">usage</span>: <span class=\"hljs-string\">'Specify the function you want to deploy (e.g. \"--function myFunction\")'</span>,\n            <span class=\"hljs-attr\">shortcut</span>: <span class=\"hljs-string\">'f'</span>,\n            <span class=\"hljs-attr\">required</span>: <span class=\"hljs-literal\">true</span>\n          }\n        }\n      },\n    };\n\n    <span class=\"hljs-keyword\">this</span>.hooks = {\n      <span class=\"hljs-string\">'deploy:functions'</span>: <span class=\"hljs-keyword\">this</span>.deployFunction.bind(<span class=\"hljs-keyword\">this</span>)\n    }\n  }\n\n  deployFunction() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Deploying function: '</span>, <span class=\"hljs-keyword\">this</span>.options.function);\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = Deploy;</code></pre>\n<h3 id=\"provider-specific-plugins\"><a href=\"#provider-specific-plugins\" class=\"phenomic-HeadingAnchor\">#</a>Provider Specific Plugins</h3>\n<p>Plugins can be provider specific which means that they are bound to a provider.</p>\n<p><strong>Note:</strong> Binding a plugin to a provider is optional. Serverless will always consider your plugin if you don't specify a <code>provider</code>.</p>\n<p>The provider definition should be added inside the plugins constructor:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ProviderDeploy</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>(serverless, options) {\n    <span class=\"hljs-keyword\">this</span>.serverless = serverless;\n    <span class=\"hljs-keyword\">this</span>.options = options;\n\n    <span class=\"hljs-comment\">// set the providers name here</span>\n    <span class=\"hljs-keyword\">this</span>.provider = <span class=\"hljs-string\">'providerName'</span>;\n\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">deploy</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'functions'</span>\n        ],\n        <span class=\"hljs-attr\">options</span>: {\n          <span class=\"hljs-attr\">function</span>: {\n            <span class=\"hljs-attr\">usage</span>: <span class=\"hljs-string\">'Specify the function you want to deploy (e.g. \"--function myFunction\")'</span>,\n            <span class=\"hljs-attr\">required</span>: <span class=\"hljs-literal\">true</span>\n          }\n        }\n      },\n    };\n\n    <span class=\"hljs-keyword\">this</span>.hooks = {\n      <span class=\"hljs-string\">'deploy:functions'</span>: <span class=\"hljs-keyword\">this</span>.deployFunction.bind(<span class=\"hljs-keyword\">this</span>)\n    }\n  }\n\n  deployFunction() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Deploying function: '</span>, <span class=\"hljs-keyword\">this</span>.options.function);\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = ProviderDeploy;</code></pre>\n<p>The Plugin's functionality will now only be executed when the Serverless Service's provider matches the provider name which is defined inside the plugins constructor.</p>\n<h3 id=\"serverless-instance\"><a href=\"#serverless-instance\" class=\"phenomic-HeadingAnchor\">#</a>Serverless Instance</h3>\n<p>The <code>serverless</code> instance which enables access to global service config during runtime is passed in as the first parameter to the plugin constructor.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-meta\">'use strict'</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyPlugin</span> </span>{\n  <span class=\"hljs-keyword\">constructor</span>(serverless, options) {\n    <span class=\"hljs-keyword\">this</span>.serverless = serverless;\n    <span class=\"hljs-keyword\">this</span>.options = options;\n\n    <span class=\"hljs-keyword\">this</span>.commands = {\n      <span class=\"hljs-attr\">log</span>: {\n        <span class=\"hljs-attr\">lifecycleEvents</span>: [\n          <span class=\"hljs-string\">'serverless'</span>\n        ],\n      },\n    };\n\n    <span class=\"hljs-keyword\">this</span>.hooks = {\n      <span class=\"hljs-string\">'log:serverless'</span>: <span class=\"hljs-keyword\">this</span>.logServerless.bind(<span class=\"hljs-keyword\">this</span>)\n    }\n  }\n\n  logServerless() {\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Serverless instance: '</span>, <span class=\"hljs-keyword\">this</span>.serverless);\n  }\n}\n\n<span class=\"hljs-built_in\">module</span>.exports = MyPlugin;</code></pre>\n<h3 id=\"command-naming\"><a href=\"#command-naming\" class=\"phenomic-HeadingAnchor\">#</a>Command Naming</h3>\n<p>Command names need to be unique. If we load two commands and both want to specify the same command (e.g. we have an integrated command <code>deploy</code> and an external command also wants to use <code>deploy</code>) the Serverless CLI will print an error and exit. If you want to have your own <code>deploy</code> command you need to name it something different like <code>myCompanyDeploy</code> so they don't clash with existing plugins.</p>\n","__filename":"providers\\aws\\guide\\plugins.md","__url":"/providers/aws/guide/plugins/","__resourceUrl":"/providers/aws/guide/plugins/index.html","__dataUrl":"/providers/aws/guide/plugins/index.html.d5d107e3701022e68f09390c15e88aa9.json","type":"Page"}}}</script><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script src="/phenomic.browser.74f4a4b5a2e5af5372a1.js"></script></body></html>